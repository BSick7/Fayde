<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="/Scripts/jquery-1.7.js" type="text/javascript"></script>

    <script src="/Scripts/Framework/Debug.js" type="text/javascript"></script>

    <script src="/Scripts/Framework/Primitives.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/List.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/BError.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Dirty.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Brush.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Matrix.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/MulticastEvent.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/DependencyProperty.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/LayoutInformation.js" type="text/javascript"></script>

    <script src="/Scripts/Framework/PropertyValueProviders/PropertyValueProvider.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/AutoCreate.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/DefaultValue.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/ImplicitStyle.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/Inherited.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/InheritedDataContext.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/InheritedIsEnabled.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/Local.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/PropertyValueProviders/Style.js" type="text/javascript"></script>

    <script src="/Scripts/Framework/DependencyObject.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Collection.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/DependencyObjectCollection.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/UIElementCollection.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Style.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/TreeWalkers.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/ResourceDictionary.js" type="text/javascript"></script>
    
    <script src="/Scripts/Framework/Geometry.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/UIElement.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/FrameworkElement.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Control.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Panel.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/StackPanel.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Grid.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Canvas.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/Border.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/UserControl.js" type="text/javascript"></script>

    <script src="/Scripts/Framework/TextBlock.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/TextElement.js" type="text/javascript"></script>

    <script src="/Scripts/Framework/Surface.js" type="text/javascript"></script>
    <script src="/Scripts/Framework/App.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            _Console.Init("#console");
            App.Instance.MainSurface.Init($("#testCanvas"));
            root = buildTestView();
            App.Instance.Load(root);
        });

        function buildTestView() {
            var top = new StackPanel();
            top.SetBackground(new SolidColorBrush(new Color(128, 0, 0)));
            top.SetOrientation(Orientation.Horizontal);

            top.GetChildren().Add((function () {
                var grid = new Grid();
                grid.SetMinWidth(200);
                grid.SetMinHeight(200);
                //Row Definitions
                grid.GetRowDefinitions().Add((function () {
                    var rowdef = new RowDefinition();
                    rowdef.SetHeight(new GridLength(2, GridUnitType.Star));
                    return rowdef;
                })());
                grid.GetRowDefinitions().Add((function () {
                    var rowdef = new RowDefinition();
                    rowdef.SetHeight(new GridLength(3, GridUnitType.Star));
                    return rowdef;
                })());
                //Column Definitions
                grid.GetColumnDefinitions().Add((function () {
                    var coldef = new ColumnDefinition();
                    coldef.SetWidth(new GridLength(25, GridUnitType.Pixel));
                    return coldef;
                })());
                grid.GetColumnDefinitions().Add((function () {
                    var coldef = new ColumnDefinition();
                    coldef.SetWidth(new GridLength(75, GridUnitType.Pixel));
                    return coldef;
                })());
                //Children
                grid.GetChildren().Add((function () {
                    var border = new Border();
                    border.SetBackground(new SolidColorBrush(new Color(240, 248, 255))); //AliceBlue
                    return border;
                })());
                grid.GetChildren().Add((function () {
                    var border = new Border();
                    border.SetBackground(new SolidColorBrush(new Color(255, 255, 0))); //Yellow
                    Grid.SetRow(border, 1);
                    return border;
                })());
                grid.GetChildren().Add((function () {
                    var border = new Border();
                    border.SetBackground(new SolidColorBrush(new Color(127, 255, 212))); //Aquamarine
                    Grid.SetColumn(border, 1);
                    return border;
                })());
                grid.GetChildren().Add((function () {
                    var border = new Border();
                    border.SetBackground(new SolidColorBrush(new Color(255, 228, 196))); //Bisque
                    Grid.SetRow(border, 1);
                    Grid.SetColumn(border, 1);
                    return border;
                })());
                return grid;
            })());

            top.GetChildren().Add((function () {
                var border = new Border();
                border.SetBackground(new SolidColorBrush(new Color(0, 0, 0)));
                border.SetBorderThickness(new Thickness(1, 1, 1, 1));
                border.SetCornerRadius(new CornerRadius(5, 5, 5, 5));
                border.SetMargin(new Thickness(5, 5, 5, 5));
                border.SetMinWidth(50);
                border.SetMinHeight(50);
                return border;
            })());

            top.GetChildren().Add((function () {
                var border = new Border();
                border.SetBackground(new SolidColorBrush(new Color(255, 255, 0)));
                border.SetMinHeight(200);
                border.SetMinWidth(300);
                return border;
            })());

            return top;
        }
    </script>
</head>
<body>
    <div>
        <div style="width: 600px; height: 600px;">
	        <canvas id="testCanvas" width="600" height="600">
	        </canvas>
        </div>
        <div id="console">
        </div>
    </div>
</body>
</html>
