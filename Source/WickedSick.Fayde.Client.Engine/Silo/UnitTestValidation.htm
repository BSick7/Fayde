<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../jquery-1.7.js" type="text/javascript"></script>
    <script src="../Fayde.js" type="text/javascript"></script>
    <script type="text/javascript">
        function test() {
            var Mock2 = Nullstone.Create("Mock2", DependencyObject);
            Mock2.SomeDProperty = DependencyProperty.RegisterReadOnly("SomeD", function () { return Number; }, Mock2, null);
            Nullstone.AutoPropertiesReadOnly(Mock2, [
                "Test",
                Mock2.SomeDProperty
            ]);
            Nullstone.FinishCreate(Mock2);

            var m = new Mock2();

            //Test basic property
            var propDesc = Object.getOwnPropertyDescriptor(m, "Test");
            m.Test = 54;

            //Test dependency property
            propDesc = Object.getOwnPropertyDescriptor(m, "SomeD");
            m.SomeD.toString();
            m.$SetValueInternal(Mock2.SomeDProperty, 27);
        }
        test();
    </script>
</head>
<body>

</body>
</html>
